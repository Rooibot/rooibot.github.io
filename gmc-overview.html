<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#24AFD0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-04-22T17:08:07.7539175"><title>Is GMC Right For Your Project? | Unreal Development References</title><script type="application/json" id="virtual-toc-data">[{"id":"unreal-and-movement-components","level":0,"title":"Unreal and Movement Components","anchor":"#unreal-and-movement-components"},{"id":"what-is-the-general-movement-component","level":0,"title":"What is the General Movement Component?","anchor":"#what-is-the-general-movement-component"},{"id":"why-shouldn-t-i-use-the-gmc","level":0,"title":"Why Shouldn\u0027t I Use the GMC?","anchor":"#why-shouldn-t-i-use-the-gmc"},{"id":"why-should-i-use-the-gmc","level":0,"title":"Why Should I Use the GMC?","anchor":"#why-should-i-use-the-gmc"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/Rooi.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Is GMC Right For Your Project? | Unreal Development References"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Unreal Development References Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/gmc-overview.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Is GMC Right For Your Project? | Unreal Development References"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/gmc-overview.html#webpage",
    "url": "writerside-documentation/gmc-overview.html",
    "name": "Is GMC Right For Your Project? | Unreal Development References",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Unreal Development References Help"
}</script><!-- End Schema.org --></head><body data-id="GMC-Overview" data-main-title="Is GMC Right For Your Project?" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="General-Movement-Component.md|General Movement Component"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Unreal Development References  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="GMC-Overview" id="GMC-Overview.md">Is GMC Right For Your Project?</h1><p id="i631uz1_866">Rooibot -- or, at least, the lead developer -- has been using GRIMTEC's Unreal <a href="https://www.unrealengine.com/marketplace/en-US/product/general-movement-component" id="i631uz1_867" data-external="true" rel="noopener noreferrer">General Movement Component</a> for quite some time, and in that time we've seen many people have misconceptions and misunderstandings about what the General Movement Component actually <span class="emphasis" id="i631uz1_868">is</span>, and what it can provide. This is unfortunate, because while the GMC is an incredibly powerful tool, it is also an incredibly <span class="emphasis" id="i631uz1_869">expensive</span> tool.</p><p id="i631uz1_870">So this document is getting written up in hopes of having a single easily-linked-to document about the GMC which can answer a few of those common questions. Foremost among them, &quot;Is the General Movement Component right for me?&quot;</p><section class="chapter"><h2 id="unreal-and-movement-components" data-toc="unreal-and-movement-components">Unreal and Movement Components</h2><p id="i631uz1_871">To understand where the General Movement Component fits into things, it's worth first understanding how movement components in Unreal work at a higher level.</p><p id="i631uz1_872">Unreal has a concept of an <code class="code" id="i631uz1_873">Actor</code>, which is anything you can place into a world. This ranges from the more obvious actors who have a physical presence -- things like rocks, or trees, or NPCs -- to actors who may not have a physical location but nonetheless still have a presence in the world, such as weather systems and AI management systems.</p><p id="i631uz1_874">A <code class="code" id="i631uz1_875">Pawn</code> is a special subtype of an <code class="code" id="i631uz1_876">Actor</code>, with two main traits:</p><ol class="list _decimal" id="i631uz1_877" type="1"><li class="list__item" id="i631uz1_878"><p>Pawns are not static; they can move around the level at runtime.</p></li><li class="list__item" id="i631uz1_879"><p>Pawns can be 'possessed' by a Controller (be it a player controller, an AI controller, or whatever).</p></li></ol><p id="i631uz1_880">Point #1 is provided by a <code class="code" id="i631uz1_881">PawnMovementComponent</code>, which will determine <span class="emphasis" id="i631uz1_882">how</span> a <code class="code" id="i631uz1_883">Pawn</code> moves around when a controller provides either input (such as when a player says &quot;go forward&quot;) or a specific destination (such as when an AI controller says &quot;I want to move to this spot in the world&quot;).</p><p id="i631uz1_884">Unreal also provides a specialized type of <code class="code" id="i631uz1_885">Pawn</code> called a <code class="code" id="i631uz1_886">Character</code>; this has a special <code class="code" id="i631uz1_887">PawnMovementComponent</code> called a <code class="code" id="i631uz1_888">CharacterMovementComponent</code>, also known as &quot;the CMC&quot; for short. The CMC provides some basic movement logic to handle human-like movement and replicate it across the network; it makes for a very convenient starting place for new Unreal developers, and as such many things are built atop the CMC.</p><p id="i631uz1_889">However, it does have a few limitations.</p><p id="i631uz1_890">Chief among those is the fact that extending the CMC with new types of movement often becomes a bit of a struggle; while the CMC provides a lot of convenient logic already implemented for you, it also has very specific assumptions about how things will be done. This means if you want to add a simple &quot;sprint&quot; function to the CMC in a multiplayer scenario, you either need to extend the CMC's own implementation of saved moves and networking, or do something like utilize Unreal's Gameplay Ability System to add a replicated &quot;sprint&quot; ability.</p><p id="i631uz1_891">This is where the General Movement Component comes in.</p></section><section class="chapter"><h2 id="what-is-the-general-movement-component" data-toc="what-is-the-general-movement-component">What is the General Movement Component?</h2><p id="i631uz1_892">The General Movement Component, or &quot;GMC&quot;, is an implementation of a <code class="code" id="i631uz1_893">PawnMovementComponent</code>. Like the CMC, it has a special pawn that goes with it -- the <code class="code" id="i631uz1_894">GMC_Pawn</code>-- and takes player input or AI movement goals. However, it works in a very different fashion than the CMC.</p><p id="i631uz1_895">The GMC has a very precise movement lifecycle, with &quot;Pre Movement&quot;, &quot;Movement&quot;, and &quot;Post Movement&quot; logic. It has special tick functions for both prediction and simulation in multiplayer scenarios. It provides functionality to bind arbitrary variables for replication, and then will preserve those variables automatically as part of its movement record, allowing movement to be rolled back and replayed if a client and server get out of sync. It has a number of convenient bits of network logic which help to adapt to (and better conceal) the quirks of network latency in multiplayer scenarios.</p><p id="i631uz1_896">It is, in short, an extremely powerful tool for anyone who wants to build a custom movement system -- especially if you want to build a custom movement system with really solid networking.</p><p id="i631uz1_897">But in order to do all these things better than the Character Movement Component does, the GMC needs to do these things very <span class="emphasis" id="i631uz1_898">differently</span> than the character movement component does. This means that any code out there which expects to find a <code class="code" id="i631uz1_899">Character</code> or a <code class="code" id="i631uz1_900">CharacterMovementComponent</code> and directly hook into its guts <span class="emphasis" id="i631uz1_901">will not work</span> with the GMC, at least not right out-of-box.</p><p id="i631uz1_902">And there are plenty of things which assume you're using a <code class="code" id="i631uz1_903">Character</code> and <code class="code" id="i631uz1_904">CharacterMovementComponent</code> when you might not expect it... some of which have caught people by surprise.</p><p id="i631uz1_905">As an example, Unreal's own Motion Matching and Motion Warping systems both expect a character movement component. The Motion Matching system expects to have a Trajectory Component (which itself wants a character movement component), while the Motion Warping system expects to be able to modify montage root motion in specific ways that the CMC facilitates.</p><p id="i631uz1_906">Another big one is Epic's Gameplay Ability System. GAS is a very powerful tool for making extensible gameplay and handling abilities and effects in a multiplayer game. However, since GAS uses its own replication, anything which affects movement -- like a Sprint ability, or a Stunned effect -- is getting controlled outside of the movement component. For single-player scenarios, that's fine, but as soon as you get into multiplayer this has dire implications for the GMC's ability to rollback and replay movement; if you have Sprint controlled by GAS externally to the GMC, and then things get out of sync and the GMC needs to rollback and replay networked movement, moves may replay with a different maximum movement speed than previously (due to you having started or stopped sprinting).</p><p id="i631uz1_907">Obviously, it's possible to implement those same things atop the GMC. It's the whole reason we wrote <a href="https://github.com/Rooibot/GMCExtended" id="i631uz1_908" data-external="true" rel="noopener noreferrer">GMC Extended</a>, after all; it provides trajectory prediction for Motion Matching, and supports Motion Warping atop the GMC's replicated montage playback. And it's the purpose behind the nascent <a href="https://github.com/Reznok/GMCAbilitySystem" id="i631uz1_909" data-external="true" rel="noopener noreferrer">GMC Ability System</a>, or GMAS: providing a GAS equivalent which integrates directly with GMC's replication for purposes of multiplayer.</p><p id="i631uz1_910">But if you don't expect to need to reimplement those things atop the GMC, that requirement can blindside you.</p><p id="i631uz1_911">So, in answering what the GMC <span class="emphasis" id="i631uz1_912">is</span>, it's also worth answering what it <span class="emphasis" id="i631uz1_913">isn't</span>: it is <span class="emphasis" id="i631uz1_914">not</span> a drop-in replacement for the Character Movement Component, in terms of utilizing things which expect a Character Movement Component to be present.</p></section><section class="chapter"><h2 id="why-shouldn-t-i-use-the-gmc" data-toc="why-shouldn-t-i-use-the-gmc">Why <span class="emphasis" id="i631uz1_916">Shouldn't</span> I Use the GMC?</h2><p id="i631uz1_917">There are scenarios when the GMC is not the right choice.</p><p id="i631uz1_918">Many first-person shooters don't have a core focus on <span class="emphasis" id="i631uz1_919">movement</span>, and so they don't need much functionality beyond what the CMC provides. If Unreal's default First Person or Third Person templates provides 90% of the movement logic you need, the GMC is almost certainly overkill!</p><p id="i631uz1_920">Similarly, if you have a complex, fully-built-out ecosystem of things atop the CMC -- motion matching animation, a combat system that relies on the CMC for melee functionality, and so on -- then the GMC may end up being more work than it is worth, when you need to re-implement all those things atop the GMC (or at the very least port the logic over).</p><p id="i631uz1_921">No one tool for Unreal is the correct choice 100% of the time; the CMC certainly isn't, as there are many scenarios where it falls short. But the GMC isn't a silver bullet for every scenario, either... not even the ones where the CMC falls short.</p><p id="i631uz1_922">For instance, a purely physics-driven game akin to Rocket League is going to be difficult to implement atop the CMC, but it's <span class="emphasis" id="i631uz1_923">also</span> going to be difficult to implement atop the GMC. Unreal is, by nature, a non-deterministic game engine, and a physics-driven multiplayer game needs to be deterministic to at least <span class="emphasis" id="i631uz1_924">some</span> degree. And while the GMC makes it far easier to extend movement logic with custom movement types than the CMC does, <span class="emphasis" id="i631uz1_925">neither</span> is going to provide the deterministic physics implementation needed.</p><p id="i631uz1_926">Similarly, Unreal is not the best choice for multiplayer fighting games. Unreal does not inherently want to replicate character animation -- for a variety of really good reasons -- but that nondeterministic nature of the engine means that even while you might bring the <span class="emphasis" id="i631uz1_927">character position</span> in sync across multiple clients, you're not going to bring the exact character <span class="emphasis" id="i631uz1_928">pose</span> in sync. Which, in most games, is fine; as long as you see the other player making coherent moves, it doesn't matter whether I see my left foot forward on my screen but you see my right foot forward on yours. But for fighting games, having the pose entirely in sync can be of crucial importance for purposes of hit detection! And for all that the GMC provides many useful tools to extend movement, that is <span class="emphasis" id="i631uz1_929">not</span> a scenario which the GMC aims to solve.</p><p id="i631uz1_930">In short, if any of the following are true for you, the GMC may <span class="emphasis" id="i631uz1_931">not</span> be the solution to your woes:</p><ul class="list _bullet" id="i631uz1_932"><li class="list__item" id="i631uz1_933"><p>You are trying to do something which is fundamentally deterministic (a fighting game, a physics-driven game). Using the GMC won't be any <span class="emphasis" id="i631uz1_934">more</span> difficult than the CMC for these, but it won't solve your woes, either.</p></li><li class="list__item" id="i631uz1_935"><p>You are utilizing complex systems already built specifically atop the Character Movement Component, such as some pre-built combat system or parkour movement system.</p></li><li class="list__item" id="i631uz1_936"><p>You have a mature set of abilities built out atop the Gameplay Ability System already, and your game is multiplayer (and thus needs abilities replicated). Reznok wrote up a good article on <a href="https://reznok.com/how-not-to-use-gas-gmc" id="i631uz1_937" data-external="true" rel="noopener noreferrer">why this is a problem</a>.</p></li></ul></section><section class="chapter"><h2 id="why-should-i-use-the-gmc" data-toc="why-should-i-use-the-gmc">Why <span class="emphasis" id="i631uz1_939">Should</span> I Use the GMC?</h2><p id="i631uz1_940">While the GMC isn't a solution to every single Unreal movement and networking problem out there, it <span class="emphasis" id="i631uz1_941">is</span> nonetheless a solution to a great many of them. Especially for any scenario where you need to add custom logic.</p><p id="i631uz1_942">Look, for instance, at the average tutorial on how to add sprinting functionality to a <code class="code" id="i631uz1_943">Character</code>. The first thing you'll notice is that half the time, you are required to go into C++ just to add sprinting functionality! That is inconvenient at the very least, and can be problematic for anyone who is trying to experiment with a first game purely in Blueprint.</p><p id="i631uz1_944">To add sprint functionality to a <code class="code" id="i631uz1_945">GMC_Pawn</code>, you need only bind a new &quot;Client Authoritative&quot; variable such as a <code class="code" id="i631uz1_946">Wants to Sprint</code> boolean. When the player presses the sprint button, set that variable to true on the client. When the variable is true, increase the maximum movement speed. Doing that is sufficient to not only implement sprinting in the GMC, but it will even handle prediction and rollback of the movement for you in a networked scenario!</p><p id="i631uz1_947">This means that if movement is key to your game -- if you have things like parkour movement, wall-running, teleporting, grappling/tether mechanics, etc. -- implementing that movement can be a great deal less painful atop the GMC.</p><p id="i631uz1_948">Moreover, the GMC is designed <span class="emphasis" id="i631uz1_949">specifically</span> to allow it to be extended via Blueprint. While Blueprint code is never going to be quite as efficient as C++ code, there <span class="emphasis" id="i631uz1_950">have</span> been games written predominantly in Blueprint logic, and even for C++ programmers (like over here at Rooibot) Blueprints can be extremely useful for prototyping things quickly before moving them into C++.</p><p id="i631uz1_951">In addition, the Character Movement Component makes a lot of assumptions about how movement works. These are relatively reasonable assumptions for purposes of bipedal human movement, but they may not hold true for things like a flight simulator or a spaceship.</p><p id="i631uz1_952">While the GMC provides an &quot;Organic Movement Component&quot; which serves the same bipedal human movement purpose as the CMC does, it also provides a general-purpose &quot;Movement Utility Component&quot;, which gives you all the benefits of the GMC's networking and prediction functionality, while allowing you to implement something wildly different.</p><p id="i631uz1_953">So, scenarios where the GMC might well be the correct choice for you include:</p><ul class="list _bullet" id="i631uz1_954"><li class="list__item" id="i631uz1_955"><p>You are making something which has movement wildly different than the normal bipedal human movement types. A flight simulator or spaceflight sim, for instance.</p></li><li class="list__item" id="i631uz1_956"><p>You have a great many ways in which you need to extend movement -- to add parkour functionality from scratch, for instance, or in a superhero game where Spider-Man-style grappling or some sort of flight or superspeed play a key role.</p></li><li class="list__item" id="i631uz1_957"><p>You want really solid networking, and you <span class="emphasis" id="i631uz1_958">don't</span> already have a ton of things built atop the CMC that you're going to need to utilize.</p></li></ul><p id="i631uz1_959">If those sort of things <span class="emphasis" id="i631uz1_960">are</span> true for you, then the GMC might well be worthwhile (and could save you a lot of time, stress, and headaches).</p></section><div class="last-modified">Last modified: 23 April 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="general-movement-component.html" class="navigation-links__prev">General Movement Component</a><a href="useful-gmc-resources.html" class="navigation-links__next">Useful GMC Resources</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>